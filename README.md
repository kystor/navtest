
# Nav-item - ä¸ªäººå¯¼èˆªç«™ï¼ˆNav-itemï¼‰

> æ•™ç¨‹ï¼ˆYouTubeï¼‰ï¼šhttps://www.youtube.com/watch?v=AEXj3VR2LMY

ä¸€ä¸ªç°ä»£åŒ–çš„ä¸ªäººå¯¼èˆªç«™é¡¹ç›®ï¼Œæä¾›ç®€æ´ç¾è§‚çš„å¯¼èˆªç•Œé¢ä¸å¼ºå¤§çš„åå°ç®¡ç†ç³»ç»Ÿï¼Œå¸®åŠ©ä½ å¿«é€Ÿè®¿é—®å¸¸ç”¨ç½‘ç«™ä¸å·¥å…·ã€‚  
å‰åç«¯åˆ†ç¦»æ¶æ„ï¼š**Vue 3 + Node.js + SQLite**ã€‚

---

## ç›®å½•

- [åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§)
- [æŠ€æœ¯æ ˆ](#æŠ€æœ¯æ ˆ)
- [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
  - [æºç éƒ¨ç½²](#æºç éƒ¨ç½²)
  - [Docker éƒ¨ç½²](#docker-éƒ¨ç½²)
  - [docker-compose éƒ¨ç½²](#docker-compose-éƒ¨ç½²)
- [é…ç½®è¯´æ˜](#é…ç½®è¯´æ˜)
  - [åŸºç¡€ç¯å¢ƒå˜é‡](#åŸºç¡€ç¯å¢ƒå˜é‡)
  - [æ•°æ®æŒä¹…åŒ–](#æ•°æ®æŒä¹…åŒ–)
- [Serv00 | CT8 | Hostuno ä¸€é”®å®‰è£…è„šæœ¬](#serv00--ct8--hostuno-ä¸€é”®å®‰è£…è„šæœ¬)
- [è‡ªåŠ¨ Git åŒå‘åŒæ­¥ & å¤‡ä»½è„šæœ¬ï¼ˆSidecar æ¨¡å¼ï¼‰](#è‡ªåŠ¨-git-åŒå‘åŒæ­¥--å¤‡ä»½è„šæœ¬sidecar-æ¨¡å¼)
  - [æ ¸å¿ƒç‰¹æ€§](#æ ¸å¿ƒç‰¹æ€§)
  - [å‰ç½®å‡†å¤‡](#å‰ç½®å‡†å¤‡)
  - [ç¯å¢ƒå˜é‡](#ç¯å¢ƒå˜é‡)
  - [docker-compose Sidecar ç¤ºä¾‹](#docker-compose-sidecar-ç¤ºä¾‹)
- [å®‰å…¨å»ºè®®](#å®‰å…¨å»ºè®®)
- [è´¡çŒ®æŒ‡å—](#è´¡çŒ®æŒ‡å—)
- [è®¸å¯è¯](#è®¸å¯è¯)
- [ä½œè€…](#ä½œè€…)
- [è‡´è°¢](#è‡´è°¢)

---

## åŠŸèƒ½ç‰¹æ€§

### å‰ç«¯åŠŸèƒ½
- ğŸ  **é¦–é¡µå¯¼èˆª**ï¼šå¡ç‰‡å¼å¯¼èˆªç•Œé¢ï¼Œç®€æ´ç¾è§‚
- ğŸ” **èšåˆæœç´¢**ï¼šæ”¯æŒ Google / ç™¾åº¦ / Bing / GitHub / ç«™å†…æœç´¢
- ğŸ“± **å“åº”å¼è®¾è®¡**ï¼šæ¡Œé¢ç«¯ä¸ç§»åŠ¨ç«¯è‡ªé€‚åº”
- ğŸ¨ **ç°ä»£åŒ– UI**ï¼šæ¸å˜èƒŒæ™¯ + æ¯›ç»ç’ƒæ•ˆæœ
- ğŸ”— **å‹æƒ…é“¾æ¥**ï¼šæ”¯æŒå‹é“¾å±•ç¤º
- ğŸ“¢ **å¹¿å‘Šä½**ï¼šæ”¯æŒå·¦å³ä¸¤ä¾§å¹¿å‘Šä½å±•ç¤º

### åå°ç®¡ç†
- ğŸ‘¤ **ç”¨æˆ·ç®¡ç†**ï¼šç®¡ç†å‘˜ç™»å½•ã€ç”¨æˆ·ä¿¡æ¯ç®¡ç†
- ğŸ“‹ **æ ç›®ç®¡ç†**ï¼šä¸»èœå•/å­èœå•å¢åˆ æ”¹æŸ¥
- ğŸƒ **å¡ç‰‡ç®¡ç†**ï¼šå¯¼èˆªå¡ç‰‡å¢åˆ æ”¹æŸ¥
- ğŸ“¢ **å¹¿å‘Šç®¡ç†**ï¼šå¹¿å‘Šä½å¢åˆ æ”¹æŸ¥
- ğŸ”— **å‹é“¾ç®¡ç†**ï¼šå‹æƒ…é“¾æ¥å¢åˆ æ”¹æŸ¥
- ğŸ“Š **æ•°æ®ç»Ÿè®¡**ï¼šç™»å½•æ—¶é—´ã€IP ç­‰ç»Ÿè®¡ä¿¡æ¯

### æŠ€æœ¯ç‰¹æ€§
- ğŸ” **JWT è®¤è¯**ï¼šå®‰å…¨çš„ç”¨æˆ·è®¤è¯æœºåˆ¶
- ğŸ—„ï¸ **SQLite æ•°æ®åº“**ï¼šè½»é‡çº§ï¼Œæ— éœ€é¢å¤–æœåŠ¡
- ğŸ“¤ **æ–‡ä»¶ä¸Šä¼ **ï¼šæ”¯æŒå›¾ç‰‡ä¸Šä¼ 
- ğŸ” **æœç´¢èƒ½åŠ›**ï¼šç«™å†…æœç´¢ + å¤–éƒ¨æœç´¢
- ğŸ“± **ç§»åŠ¨ç«¯ä½“éªŒ**ï¼šé€‚é…è§¦æ§ä¸å°å±å¸ƒå±€

---

## æŠ€æœ¯æ ˆ

- **å‰ç«¯**ï¼šVue 3 + Vite
- **åç«¯**ï¼šNode.js
- **æ•°æ®åº“**ï¼šSQLite

---

## é¡¹ç›®ç»“æ„

```text
nav-item/
â”œâ”€â”€ app.js                 # åç«¯ä¸»å…¥å£æ–‡ä»¶
â”œâ”€â”€ config.js              # é…ç½®æ–‡ä»¶
â”œâ”€â”€ db.js                  # æ•°æ®åº“åˆå§‹åŒ–
â”œâ”€â”€ package.json           # åç«¯ä¾èµ–é…ç½®
â”œâ”€â”€ database/              # æ•°æ®åº“æ–‡ä»¶ç›®å½•ï¼ˆå»ºè®®æŒä¹…åŒ–æŒ‚è½½ï¼‰
â”‚   â””â”€â”€ nav.db             # SQLite æ•°æ®åº“æ–‡ä»¶
â”œâ”€â”€ routes/                # åç«¯è·¯ç”±
â”‚   â”œâ”€â”€ auth.js            # è®¤è¯ç›¸å…³
â”‚   â”œâ”€â”€ menu.js            # èœå•ç®¡ç†
â”‚   â”œâ”€â”€ card.js            # å¡ç‰‡ç®¡ç†
â”‚   â”œâ”€â”€ ad.js              # å¹¿å‘Šç®¡ç†
â”‚   â”œâ”€â”€ friend.js          # å‹é“¾ç®¡ç†
â”‚   â”œâ”€â”€ user.js            # ç”¨æˆ·ç®¡ç†
â”‚   â””â”€â”€ upload.js          # ä¸Šä¼ ç®¡ç†
â”œâ”€â”€ uploads/               # ä¸Šä¼ ç›®å½•ï¼ˆå»ºè®®æŒä¹…åŒ–æŒ‚è½½ï¼‰
â”‚   â””â”€â”€ default-favicon.png
â”œâ”€â”€ web/                   # å‰ç«¯é¡¹ç›®ï¼ˆVue + Viteï¼‰
â”‚   â”œâ”€â”€ package.json       # å‰ç«¯ä¾èµ–
â”‚   â”œâ”€â”€ vite.config.mjs    # Vite é…ç½®
â”‚   â”œâ”€â”€ index.html         # HTML å…¥å£
â”‚   â”œâ”€â”€ public/            # é™æ€èµ„æº
â”‚   â”‚   â”œâ”€â”€ background.webp
â”‚   â”‚   â”œâ”€â”€ default-favicon.png
â”‚   â”‚   â””â”€â”€ robots.txt
â”‚   â””â”€â”€ src/               # å‰ç«¯æºç 
â”‚       â”œâ”€â”€ main.js        # Vue å…¥å£
â”‚       â”œâ”€â”€ router.js      # è·¯ç”±
â”‚       â”œâ”€â”€ api.js         # API å°è£…
â”‚       â”œâ”€â”€ App.vue        # æ ¹ç»„ä»¶
â”‚       â”œâ”€â”€ components/    # å…¬å…±ç»„ä»¶
â”‚       â”‚   â”œâ”€â”€ MenuBar.vue
â”‚       â”‚   â””â”€â”€ CardGrid.vue
â”‚       â””â”€â”€ views/         # é¡µé¢
â”‚           â”œâ”€â”€ Home.vue
â”‚           â”œâ”€â”€ Admin.vue
â”‚           â””â”€â”€ admin/
â”‚               â”œâ”€â”€ MenuManage.vue
â”‚               â”œâ”€â”€ CardManage.vue
â”‚               â”œâ”€â”€ AdManage.vue
â”‚               â”œâ”€â”€ FriendLinkManage.vue
â”‚               â””â”€â”€ UserManage.vue
â”œâ”€â”€ Dockerfile             # Docker æ„å»ºæ–‡ä»¶
â””â”€â”€ docker-compose.yml     # å¯é€‰ï¼šç¼–æ’æ–‡ä»¶
````

---

## å¿«é€Ÿå¼€å§‹

### æºç éƒ¨ç½²

#### 1) å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/eooce/nav-Item.git
cd nav-item
```

#### 2) å®‰è£…åç«¯ä¾èµ–

```bash
npm install
```

#### 3) æ„å»ºå‰ç«¯

```bash
cd web
npm install
npm run build
```

#### 4) å¯åŠ¨æœåŠ¡

```bash
cd ..
npm start
```

#### 5) è®¿é—®åœ°å€

* å‰ç«¯ï¼š`http://localhost:3000`
* åå°ï¼š`http://localhost:3000/admin`
* é»˜è®¤ç®¡ç†å‘˜ï¼š`admin / 123456`ï¼ˆä¸Šçº¿åŠ¡å¿…ä¿®æ”¹ï¼‰

---

## Docker éƒ¨ç½²

### 1) Docker å¿«é€Ÿéƒ¨ç½²ï¼ˆæ¨èï¼‰

> å¼ºçƒˆå»ºè®®æŒ‚è½½ `database/` ä¸ `uploads/`ï¼Œé¿å…å®¹å™¨é‡å»ºä¸¢æ•°æ®ã€‚

```bash
docker run -d \
  --name nav-item \
  -p 3000:3000 \
  -v $(pwd)/database:/app/database \
  -v $(pwd)/uploads:/app/uploads \
  -e NODE_ENV=production \
  -e ADMIN_USERNAME=admin \
  -e ADMIN_PASSWORD=123456 \
  eooce/nav-item
```

### 2) å¯ç”¨é•œåƒåœ°å€

```text
eooce/nav-item
ghcr.io/eooce/nav-item:latest
```

---

## docker-compose éƒ¨ç½²

åˆ›å»º `docker-compose.yml`ï¼š

```yaml
version: "3"

services:
  nav-item:
    image: eooce/nav-item
    container_name: nav-item
    ports:
      - "3000:3000"
    environment:
      - PORT=3000
      - ADMIN_USERNAME=admin
      - ADMIN_PASSWORD=123456
      # å¯é€‰ï¼šç«™ç‚¹æ ‡é¢˜
      - SITE_TITLE=æˆ‘çš„å¯¼èˆª
    volumes:
      - ./database:/app/database
      - ./uploads:/app/uploads
    restart: unless-stopped
```

å¯åŠ¨ï¼š

```bash
docker compose up -d
```

---

## é…ç½®è¯´æ˜

### åŸºç¡€ç¯å¢ƒå˜é‡

| å˜é‡å              | é»˜è®¤å€¼                   | æè¿°            |
| :--------------- | :-------------------- | :------------ |
| `PORT`           | `3000`                | æœåŠ¡ç«¯å£          |
| `ADMIN_USERNAME` | `admin`               | åå°ç®¡ç†å‘˜ç”¨æˆ·å      |
| `ADMIN_PASSWORD` | `123456`              | åå°ç®¡ç†å‘˜å¯†ç        |
| `SITE_TITLE`     | `æˆ‘çš„å¯¼èˆª`                | ç½‘é¡µåç§°/ç«™ç‚¹æ ‡é¢˜     |
| `background`     | `public æ–‡ä»¶å¤¹ä¸­çš„å›¾ç‰‡æˆ–å›¾ç‰‡é“¾æ¥` | ç½‘é¡µèƒŒæ™¯å›¾ï¼ˆæ”¯æŒ URLï¼‰ |

> æ³¨æ„ï¼š`background` çš„å…·ä½“è¯»å–æ–¹å¼å–å†³äºä½ é¡¹ç›®å†…å®ç°ï¼ˆä¾‹å¦‚å‰ç«¯è¯»å–é…ç½®æˆ–åç«¯æ³¨å…¥ï¼‰ã€‚å¦‚ä¸ç”Ÿæ•ˆï¼Œè¯·æ£€æŸ¥ `config.js`/å‰ç«¯é…ç½®é€»è¾‘ã€‚

### æ•°æ®æŒä¹…åŒ–

ä½¿ç”¨ Docker éƒ¨ç½²æ—¶å»ºè®®æŒ‚è½½ï¼š

* `./database` â†’ `/app/database`ï¼ˆSQLite æ•°æ®åº“æŒä¹…åŒ–ï¼‰
* `./uploads` â†’ `/app/uploads`ï¼ˆä¸Šä¼ æ–‡ä»¶æŒä¹…åŒ–ï¼‰

---

## Serv00 | CT8 | Hostuno ä¸€é”®å®‰è£…è„šæœ¬

* è¯´æ˜ï¼šç¯å¢ƒå˜é‡æ”¾åœ¨è„šæœ¬å‰é¢ï¼Œä½¿ç”¨ç©ºæ ¼éš”å¼€ï¼Œè·Ÿè„šæœ¬ä¸€èµ·è¿è¡Œ
* é»˜è®¤åå°ç”¨æˆ·å/å¯†ç ï¼š`admin / 123456`
* `DOMAIN`ï¼šè‡ªå®šä¹‰ç«™ç‚¹åŸŸå

```bash
bash <(curl -Ls https://github.com/eooce/nav-item/releases/download/ct8-and-serv00/install.sh)
```

---

# è‡ªåŠ¨ Git åŒå‘åŒæ­¥ & å¤‡ä»½è„šæœ¬ï¼ˆSidecar æ¨¡å¼ï¼‰

è¿™æ˜¯ä¸€ä¸ªä¸“ä¸º **å®¹å™¨åŒ–ç¯å¢ƒ** è®¾è®¡çš„è½»é‡ Shell è„šæœ¬ã€‚å®ƒèƒ½å°†æœ¬åœ°æ–‡ä»¶å˜åŒ–æ¨é€åˆ° GitHubï¼Œå¹¶å¯å®šæœŸæ‹‰å–è¿œç«¯æ›´æ–°è¦†ç›–æœ¬åœ°ã€‚

åŒæ—¶é’ˆå¯¹ **SQLite** åšäº†é¢å¤–ä¼˜åŒ–ï¼Œå°½é‡é¿å… Docker å·é‡Œå¸¸è§çš„æƒé™ä¸é”é—®é¢˜ï¼ˆä¾‹å¦‚ `Read-only database`ï¼‰ã€‚

---

## æ ¸å¿ƒç‰¹æ€§

* **âš¡ï¸ åŒå‘åŒæ­¥**

  * **ä¸Šè¡Œ**ï¼šç›‘æ§æœ¬åœ°æ–‡ä»¶å˜åŒ– â†’ è‡ªåŠ¨ commit & push
  * **ä¸‹è¡Œ**ï¼šå¯åŠ¨æˆ–è½®è¯¢æ—¶æ£€æŸ¥è¿œç«¯ â†’ è‡ªåŠ¨ pull å¹¶è¦†ç›–æœ¬åœ°ï¼ˆé€‚åˆå¤šåœ°éƒ¨ç½²ï¼‰
* **ğŸ›¡ï¸ SQLite ä¸“å±ä¿æŠ¤**

  * è‡ªåŠ¨ `chmod` ä¿®å¤ç›®å½•/æ–‡ä»¶æƒé™
  * ç”¨ `cat > file` å†™å…¥æ–¹å¼å‡å°‘ inode å˜åŒ–å¸¦æ¥çš„é”é£é™©
* **â³ é˜²æŠ–æœºåˆ¶**

  * ç­‰å¾…æ–‡ä»¶å†™å…¥å®Œæˆåå†è§¦å‘åŒæ­¥
* **ğŸ³ å®¹å™¨å‹å¥½**

  * æ”¯æŒ `BACKUP_REPO_URL` å®Œæ•´é“¾æ¥é…ç½®

---

## å‰ç½®å‡†å¤‡

1. GitHub è´¦å·
2. å»ºè®®å‡†å¤‡ä¸€ä¸ª **ç§æœ‰ä»“åº“**ï¼ˆç”¨äºå­˜æ”¾å¤‡ä»½æ•°æ®ï¼‰
3. åˆ›å»º GitHub Personal Access Tokenï¼ˆPATï¼‰

   * æƒé™å»ºè®®ï¼š`repo`ï¼ˆå¦‚æœæ˜¯ç§æœ‰ä»“åº“åˆ™å¿…é¡»ï¼‰

---

## ç¯å¢ƒå˜é‡

### ğŸ”´ å¿…å¡«é¡¹ï¼ˆäºŒé€‰ä¸€ï¼‰

**æ–¹æ¡ˆ Aï¼ˆæ¨èï¼‰ï¼šå®Œæ•´ URL**

| å˜é‡å               | ç¤ºä¾‹å€¼                                       | æè¿°               |
| :---------------- | :---------------------------------------- | :--------------- |
| `BACKUP_REPO_URL` | `https://github.com/username/my-repo.git` | å®Œæ•´ä»“åº“åœ°å€           |
| `GITHUB_TOKEN`    | `ghp_xxxxxxxxxxxx`                        | GitHub Tokenï¼ˆå¿…é¡»ï¼‰ |

**æ–¹æ¡ˆ Bï¼šæ‹†åˆ†é…ç½®**

| å˜é‡å            | ç¤ºä¾‹å€¼                | æè¿°               |
| :------------- | :----------------- | :--------------- |
| `GITHUB_USER`  | `kystor`           | GitHub ç”¨æˆ·å       |
| `GITHUB_REPO`  | `nav-backup`       | ä»“åº“åç§°             |
| `GITHUB_TOKEN` | `ghp_xxxxxxxxxxxx` | GitHub Tokenï¼ˆå¿…é¡»ï¼‰ |

### ğŸŸ¢ é€‰å¡«é¡¹ï¼ˆæœ‰é»˜è®¤å€¼ï¼‰

| å˜é‡å               | é»˜è®¤å€¼                    | æè¿°         |
| :---------------- | :--------------------- | :--------- |
| `DB_PATH`         | `/app/database/nav.db` | ç›‘æ§çš„æºæ–‡ä»¶ç»å¯¹è·¯å¾„ |
| `BACKUP_INTERVAL` | `10`                   | è½®è¯¢é¢‘ç‡ï¼ˆç§’ï¼‰    |
| `GITHUB_EMAIL`    | `bot@nav.backup`       | Git æäº¤é‚®ç®±   |
| `GITHUB_NAME`     | `NavBackupBot`         | Git æäº¤ç”¨æˆ·å  |

---

## docker-compose Sidecar ç¤ºä¾‹

å°†å¤‡ä»½è„šæœ¬ä½œä¸ºâ€œè¾¹è½¦ï¼ˆSidecarï¼‰â€å®¹å™¨è¿è¡Œï¼Œä¸ä¸»åº”ç”¨å…±äº«åŒä¸€ä¸ªæ•°æ®å·ã€‚

```yaml
version: "3"

services:
  # 1) ä¸»åº”ç”¨
  nav-app:
    image: eooce/nav-item
    container_name: nav-app
    restart: always
    volumes:
      - ./data:/app/database

  # 2) å¤‡ä»½ä¸åŒæ­¥æœåŠ¡ï¼ˆSidecarï¼‰
  backup-service:
    image: alpine/git:latest
    container_name: nav-sync
    restart: always
    volumes:
      - ./data:/app/database
      - ./backup.sh:/app/backup.sh
    entrypoint: ["/bin/sh", "/app/backup.sh"]
    environment:
      - GITHUB_TOKEN=ghp_ä½ çš„Tokenå†™åœ¨è¿™é‡Œ
      - BACKUP_REPO_URL=https://github.com/yourname/your-repo.git
      - DB_PATH=/app/database/nav.db
      - GITHUB_EMAIL=my@email.com
      - GITHUB_NAME=NavBackupBot
      - BACKUP_INTERVAL=10
```

---

## å®‰å…¨å»ºè®®

* âœ… **ä¸Šçº¿ç¬¬ä¸€ä»¶äº‹ï¼šä¿®æ”¹é»˜è®¤è´¦å·å¯†ç **ï¼ˆä¸è¦ä½¿ç”¨ `admin / 123456`ï¼‰
* âœ… åå‘ä»£ç†ï¼ˆNginx/Caddyï¼‰å¯ç”¨ HTTPSï¼Œå¹¶å¯¹ `/admin` åšè®¿é—®æ§åˆ¶
* âœ… `GITHUB_TOKEN` ç­‰æ•æ„Ÿä¿¡æ¯è¯·ä½¿ç”¨ç¯å¢ƒå˜é‡/å¯†é’¥ç®¡ç†ï¼Œä¸è¦å†™å…¥ä»“åº“
* âœ… å¤‡ä»½ä»“åº“å»ºè®®è®¾ä¸ºç§æœ‰ï¼Œé¿å…æ³„éœ²æ•°æ®

---

## è´¡çŒ®æŒ‡å—

1. Fork æœ¬ä»“åº“
2. æ–°å»ºåˆ†æ”¯ï¼š`git checkout -b feature/AmazingFeature`
3. æäº¤æ›´æ”¹ï¼š`git commit -m "Add some AmazingFeature"`
4. æ¨é€åˆ†æ”¯ï¼š`git push origin feature/AmazingFeature`
5. å‘èµ· Pull Request

---

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ **MIT License**ã€‚è¯¦æƒ…è§ [LICENSE](LICENSE)ã€‚

---

## ä½œè€…

**eooce** - [https://github.com/eooce](https://github.com/eooce)

---

## è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºè¯¥é¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…ï¼

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç‚¹ä¸ª Starï¼

```
::contentReference[oaicite:0]{index=0}
```

